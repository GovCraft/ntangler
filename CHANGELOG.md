# CHANGELOG (ntangler)


<a name="v0.1.2-alpha.1"></a>
## [v0.1.2-alpha.1](https://github.com/GovCraft/ntangler/compare/v0.1.5-alpha.1...v0.1.2-alpha.1)

> 2024-06-29


<a name="v0.1.5-alpha.1"></a>
## [v0.1.5-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.0.3-alpha.1...v0.1.5-alpha.1)

> 2024-06-29


<a name="v2.0.3-alpha.1"></a>
## [v2.0.3-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.0.2-alpha.1...v2.0.3-alpha.1)

> 2024-06-29

### Code Refactoring

* **main:** improve config handling and shutdown


<a name="v2.0.2-alpha.1"></a>
## [v2.0.2-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.0.1-alpha.1...v2.0.2-alpha.1)

> 2024-06-29

### Bug Fixes

* **ui:** correct column heading length calculation
* **ui:** corrects label text and styling

### Code Refactoring

* **actors:** rename init to initialize


<a name="v2.0.1-alpha.1"></a>
## [v2.0.1-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.2.0-alpha.1...v2.0.1-alpha.1)

> 2024-06-29


<a name="v2.2.0-alpha.1"></a>
## [v2.2.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.1.0-alpha.1...v2.2.0-alpha.1)

> 2024-06-29

### Bug Fixes

* **logging:** correct event matching

### Code Refactoring

* **logging:** update notify watcher setup
* **logging:** Refactor logging setup and config path

### Features

* **logging:** Add dynamic log path creation


<a name="v2.1.0-alpha.1"></a>
## [v2.1.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.0.4-alpha.1...v2.1.0-alpha.1)

> 2024-06-29

### Bug Fixes

* **actors:** remove duplicate import
* **imports:** remove duplicate imports
* **imports:** remove duplicate imports
* **imports:** remove duplicate imports
* **logging:** correct logging directives
* **logging:** remove duplicate log directive
* **repositories:** fix file status filter
* **repositories:** fix Status import
* **ui:** correct spacing issue

### Code Refactoring

* **actors:** remove commented code
* **actors:** remove duplicate imports
* **actors:** clean up commented code
* **config:** rename find_config_file_path to find_config_path
* **logging:** refactor tracing setup
* **logging:** change info to trace in Oid from
* **logging:** replace debug with trace
* **messages:** remove unused import
* **tests:** move tests module
* **tracing:** consolidate tracing setup functions

### Features

* **logging:** Add logs path resolution
* **logging:** add file appender for logging
* **repo:** include unreadable files as untracked


<a name="v2.0.4-alpha.1"></a>
## [v2.0.4-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.4.0-alpha.1...v2.0.4-alpha.1)

> 2024-06-29


<a name="v2.4.0-alpha.1"></a>
## [v2.4.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.3.3-alpha.1...v2.4.0-alpha.1)

> 2024-06-29

### Bug Fixes

* **ui:** handle fmt error in DescriptionTerminal
* **ui:** handle fmt error in FilenameTerminal
* **ui:** handle fmt error in OidTerminal
* **ui:** fix fmt function
* **ui:** correct fmt error handling

### Code Refactoring

* **actors:** remove unused code
* **actors:** clean up imports and structs
* **actors:** remove duplicate imports
* **actors:** remove dead code
* **imports:** reorder import statements
* **imports:** remove duplicate imports
* **lib:** remove redundant assertions
* **main:** reformat code for readability
* **main:** clean up imports and code structure
* **messages:** remove unused imports
* **messages:** remove duplicate imports
* **messages:** remove duplicate import
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove unused code and tests
* **models:** remove unused imports and modules
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove redundant imports
* **models:** remove duplicate imports and struct
* **repository:** clean up imports and streamline code
* **ui:** improve error handling in ScopeTerminal
* **ui:** remove redundant code
* **ui:** remove duplicate import
* **ui:** refactor SemVerImpactTerminal fmt
* **ui:** remove redundant imports
* **ui:** simplify commit heading formatting
* **ui:** simplify terminal handling

### Features

* **models:** add AsRef implementation for Footer


<a name="v2.3.3-alpha.1"></a>
## [v2.3.3-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.0.0-alpha.1...v2.3.3-alpha.1)

> 2024-06-29


<a name="v3.0.0-alpha.1"></a>
## [v3.0.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v2.3.2-alpha.1...v3.0.0-alpha.1)

> 2024-06-29

### Bug Fixes

* **models:** correct ARN root value
* **ui:** handle fmt error in DescriptionTerminal
* **ui:** handle fmt error in FilenameTerminal
* **ui:** handle fmt error in OidTerminal
* **ui:** fix fmt function
* **ui:** correct fmt error handling
* **ui:** correct column heading

### Code Refactoring

* **actors:** remove dead code
* **actors:** remove unused code
* **actors:** remove duplicate imports
* **actors:** clean up imports and structs
* **config:** standardize config handling
* **imports:** remove duplicate imports
* **imports:** reorder import statements
* **lib:** remove redundant assertions
* **main:** clean up imports and code structure
* **main:** reformat code for readability
* **messages:** remove duplicate import
* **messages:** remove duplicate imports
* **messages:** remove unused imports
* **models:** remove unused imports and modules
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove unused code and tests
* **models:** reorder use statements
* **models:** remove duplicate imports and struct
* **models:** remove redundant imports
* **models:** remove unused imports
* **models:** remove unused imports
* **repository:** clean up imports and streamline code
* **ui:** simplify terminal handling
* **ui:** remove redundant code
* **ui:** remove duplicate import
* **ui:** refactor SemVerImpactTerminal fmt
* **ui:** remove redundant imports
* **ui:** improve error handling in ScopeTerminal
* **ui:** simplify commit heading formatting

### Features

* **models:** add AsRef implementation for Footer


<a name="v2.3.2-alpha.1"></a>
## [v2.3.2-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.3.1-alpha.1...v2.3.2-alpha.1)

> 2024-06-29


<a name="v3.3.1-alpha.1"></a>
## [v3.3.1-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.3.0-alpha.1...v3.3.1-alpha.1)

> 2024-06-29

### Bug Fixes

* **actors:** fix duplicate async call

### Code Refactoring

* **actors:** Refactor circuit breaker calls
* **generators:** extract async endpoint call


<a name="v3.3.0-alpha.1"></a>
## [v3.3.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.1.1-alpha.1...v3.3.0-alpha.1)

> 2024-06-29

### Code Refactoring

* **actors:** remove redundant timeout block
* **imports:** remove duplicate import

### Features

* **actors:** add create_message_with_circuit_breaker function
* **generators:** add run stream creation with circuit breaker


<a name="v3.1.1-alpha.1"></a>
## [v3.1.1-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.5.0-alpha.1...v3.1.1-alpha.1)

> 2024-06-29


<a name="v3.5.0-alpha.1"></a>
## [v3.5.0-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.4.1-alpha.1...v3.5.0-alpha.1)

> 2024-06-29

### Code Refactoring

* **actors:** improve logging details
* **logging:** improve logging messages
* **logging:** consolidate logging statements
* **logging:** improve logging messages

### Features

* **logging:** Add log for DiffQueued event


<a name="v3.4.1-alpha.1"></a>
## [v3.4.1-alpha.1](https://github.com/GovCraft/ntangler/compare/v3.4.0-alpha.1...v3.4.1-alpha.1)

> 2024-06-29

### Bug Fixes

* **logging:** improve error logging
* **logging:** Improve error logging

### Code Refactoring

* **logging:** update logging levels


<a name="v3.4.0-alpha.1"></a>
## v3.4.0-alpha.1

> 2024-06-29

### Bug Fixes

* correct async task spawning method Replaced `tokio::task::spawn_local` with `tokio::spawn` for polling repository changes to ensure proper async task handling.
* correct error message handling in shutdown signal listener Updated error log message to properly handle the shutdown signal error.
* improve error message for shutdown signal failure Updated the error message when unable to listen for the shutdown signal to provide more context and user-friendly information.
* correct broker initialization in unit tests Replaced BrokerActor::init() with Broker::init() in unit tests to ensure proper broker initialization.
* enhance repo watcher and tangler actor for better change detection
* update version number in Cargo.toml Bump version from 0.1.0 to 0.1.1
* handle JSON parsing errors in ai_actor Added error handling for JSON parsing in ai_actor to prevent crashes on malformed JSON.
* correct log directive level in main.rs Changed log directive level from debug to trace for repository_actor in main.rs.
* update alert message for empty todo title Changed the alert message from 'Please enter a todo title.' to 'Todo title cannot be empty.'
* update variable naming in repository_config.rs Renamed variables in the test module of repository_config.rs for clarity and consistency. fix: update Repositories variable assignment in repository_config.rs Changed the variable assignment in the test module of repository_config.rs to match the updated Repositories struct.
* update tracing directives for repository_actor and ai_actor Changed the tracing directives for repository_actor and ai_actor to include both trace and debug levels.
* correct duplicate use statement for AiActor Removed duplicate use statement for AiActor from generators module.
* handle index.lock error during debounce Added specific handling to ignore 'index.lock not found' error during the debounce process.
* correct duplicate imports in repository_actor.rs Removed duplicate imports of DiffOptions, Error, and Repository from git2 and tracing.
* correct path canonicalization and relative path extraction Fixed the canonicalization of the event file path and extraction of the relative path by stripping the repository root prefix.
* ensure correct commit message format in repository_actor.rs Corrected the commit message format to include both heading and description in the commit.
* remove duplicate commits field in ResponseCommit struct Removed the duplicate 'commits' field in the 'ResponseCommit' struct to avoid compilation errors.
* remove duplicate import of Broker and Sentinel Removed duplicate import of Broker and Sentinel from tangler_actor.rs. Changed pool builder to use OpenAi instead of AiActor.
* remove redundant error log in shutdown handling Removed the redundant error log statement in the shutdown handling block to avoid duplicate messages.
* increase channel capacity and debounce timeout Increased the channel capacity to 200 and debounce timeout to 2000ms to handle more events efficiently.
* correct shutdown signal error message Changed the error message for shutdown signal from 'Couldn't listen for the shutdown signal' to 'Couldn't catch the shutdown signal' for clarity.
* correct duplicate import in git_repository.rs Removed duplicate import of RepositoryActor in unit_tests module.
* refactor broker actor and message handling
* correct struct field type in SubmitDiff Changed the type of the 'path' field in the SubmitDiff struct from PathBuf to String.
* remove duplicate .gitignore entry in WalkBuilder Removed the duplicate entry for .gitignore in the WalkBuilder configuration.
* correct module imports in actors.rs Fixed incorrect module imports by changing 'broker' to 'brokers' and 'sentinel' to 'sentinels'.
* correct import path for GitRepository Corrected the import path for GitRepository in the unit tests module.
* correct trace log id for OpenAi generator activation Changed trace log id from actor.key.value to context.key.value in OpenAi generator activation.
* correct logging directives in init_tracing function Changed logging directive for 'tangler::actors::repositories' from 'error' to 'info' and added missing 'error' directive for 'tangler::actors::generators'.
* correct struct field type in NotifyChange Changed the type of the 'path' field in the NotifyChange struct from PathBuf to String.
* remove duplicate activation call in GitSentinel Removed the duplicate call to actor.activate(None).await? in the GitSentinel implementation.
* correct tracing directives and imports Corrected duplicate import of 'error' from 'tracing'. Added missing 'Poll' message import. Updated tracing directives to set appropriate log levels and disable unnecessary logs.
* correct TanglerActor initialization in tests Replaced TanglerActor::init with Tangler::init in test setup.
* correct duplicate field in ResponseCommit struct Removed duplicate 'path' field from the ResponseCommit struct.
* correct Poll message handling and remove duplicate status check Fixed the Poll message handling by removing the duplicate status check and correcting the trace message for CheckoutBranch. Added subscription to broker for poll requests.
* emit commit message with id to broker Added 'id' to the ResponseCommit emission to the broker in the commit message handling logic.
* **actors:** correct polling interval
* **actors:** correct pool size calculation
* **actors:** fix duplicate async call
* **actors:** remove duplicate import
* **actors:** handle thread creation error
* **async:** fix duplicate method call
* **config:** correct config file path
* **config:** correct log path environment variable
* **generators:** remove redundant returns
* **imports:** remove duplicate imports
* **imports:** remove duplicate imports
* **imports:** remove duplicate imports
* **logging:** remove duplicate log directive
* **logging:** correct event matching
* **logging:** correct logging directives
* **messages:** fix struct declaration
* **messages:** fix timestamp initialization
* **models:** correct ARN root value
* **models:** ensure Oid is lowercase
* **repositories:** include untracked files in diff
* **repositories:** fix file status filter
* **repositories:** fix Status import
* **styles:** correct color definitions
* **tests:** correct repository paths and async task spawning Updated repository paths in tests to use parent directory. Changed tokio::spawn to tokio::task::spawn_local for polling repository changes.
* **ui:** correct spacing issue
* **ui:** correct semver style usage
* **ui:** correct copyright text formatting
* **ui:** remove duplicate imports
* **ui:** remove duplicate imports
* **ui:** correct column heading length calculation
* **ui:** corrects label text and styling
* **ui:** correct style usage
* **ui:** correct style usage
* **ui:** remove duplicate imports
* **ui:** correct color style usage
* **ui:** correct column heading
* **ui:** correct fmt error handling
* **ui:** fix fmt function
* **ui:** handle fmt error in OidTerminal
* **ui:** handle fmt error in FilenameTerminal
* **ui:** handle fmt error in DescriptionTerminal
* **ui:** correct tab width calculation

### Code Refactoring

* replace RepositoryActor with GitRepository Replaced RepositoryActor with GitRepository in TanglerActor initialization and tests for better code clarity and consistency.
* rename BrokerActor to Broker Renamed struct BrokerActor to Broker and updated associated methods and references.
* improve diff generation and handling Refactored the diff generation logic to handle multiple modified files and improved error handling. Updated the Poll and Diff message handling to use async functions. Changed the path handling in commit logic to use canonical paths.
* remove duplicate event logging and unused variable Removed duplicate event logging for setting up the watcher and unused variable 'file' in change detection.
* rename Watch struct to Observe Renamed the Watch struct to Observe in observe.rs for better clarity.
* remove NotifyChange handling and improve logging Removed the NotifyChange message handling logic. Replaced info logs with trace logs for better granularity. Added Observe message handling for diff watchers.
* replace TanglerActor with Tangler Replaced TanglerActor with Tangler in main function, tests, and tracing directives for consistency and code simplification.
* rename TanglerActor to Tangler Renamed TanglerActor struct to Tangler and updated associated methods and comments accordingly.
* clone repo path before activation Cloned the repository path before activation to avoid borrowing issues.
* update squash_commits function to improve logging and formatting Removed unused parameter from squash_commits function. Added detailed logging for squashing commits. Fixed formatting issues in the squashed commit string.
* update calculate_id function for better tracing and documentation Added tracing instrumentation and detailed documentation to the calculate_id function. Fixed duplicate hasher update call. Added PartialEq to RepositoryConfig struct.
* clean up commented code in repository_actor Removed commented-out code and improved error messages in repository_actor.
* rename AiActor to OpenAi Renamed struct AiActor to OpenAi and updated related references in the initialize method and PooledActor implementation.
* simplify repository path handling Simplified the handling of repository path by removing redundant clone operations.
* remove redundant event comments Removed redundant event comments to improve code readability and maintainability.
* remove redundant clone calls Removed unnecessary clone calls for repository_path and repository_path_trace to improve code efficiency.
* replace RepositoryWatcherActor with Sentinel Replaced RepositoryWatcherActor with Sentinel in TanglerActor initialization.
* rename RepositoryActor to GitRepository Renamed the struct RepositoryActor to GitRepository and updated all references accordingly in repository.rs.
* rename RepositoryWatcherActor to Sentinel Renamed the RepositoryWatcherActor struct to Sentinel and updated corresponding references in the init function.
* replace Sentinel with GitSentinel for diff watcher initialization Replaced Sentinel with GitSentinel in TanglerActor for initializing a diff watcher actor.
* rename BrokerActor to Broker Renamed BrokerActor to Broker in tangler_actor.rs to improve code readability and consistency.
* **actors:** Refactor circuit breaker calls
* **actors:** remove dead code
* **actors:** refactor async function parameters
* **actors:** refactor OpenAi initialization
* **actors:** rename init to initialize
* **actors:** rename MySecret struct
* **actors:** clean up commented code
* **actors:** remove duplicate spawn call
* **actors:** remove redundant runtime creation
* **actors:** remove duplicate imports
* **actors:** clean up imports and structs
* **actors:** clean up repository actor
* **actors:** update event handling
* **actors:** clean up unused imports and comments
* **actors:** remove redundant timeout block
* **actors:** Replace CommitEvent with AppEvent
* **actors:** clean up repository actor code
* **actors:** remove duplicate imports
* **actors:** remove redundant imports
* **actors:** refactor Scribe actor
* **actors:** remove unused code
* **actors:** Refactor session_count and text formatting
* **actors:** remove commented code
* **actors:** reformat tangler actor init
* **async:** remove redundant task spawn
* **brokers:** replace debug with trace
* **code:** improve code formatting
* **config:** rename find_config_file_path to find_config_path
* **config:** standardize config handling
* **generators:** simplify circuit breaker call
* **generators:** refactor thread creation
* **generators:** refactor circuit breaker usage
* **generators:** extract async endpoint call
* **generators:** Refactor OpenAi actor
* **imports:** reorder import statements
* **imports:** remove duplicate imports
* **imports:** remove duplicate import
* **lib:** remove redundant assertions
* **logging:** update notify watcher setup
* **logging:** replace debug with trace
* **logging:** change info to trace in Oid from
* **logging:** refactor tracing setup
* **logging:** Refactor logging setup and config path
* **logging:** update tracing setup
* **main:** improve config handling and shutdown
* **main:** reformat code for readability
* **main:** clean up imports and code structure
* **messages:** remove unused import
* **messages:** remove unused imports
* **messages:** remove duplicate import
* **messages:** remove duplicate imports
* **models:** remove unused imports
* **models:** simplify oid formatting
* **models:** reorder use statements
* **models:** refactor TimeStamp struct
* **models:** remove unused imports and modules
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove duplicate imports
* **models:** remove unused code and tests
* **models:** remove unused imports
* **models:** remove unused imports
* **models:** remove redundant imports
* **models:** reformat commit_message.rs
* **models:** remove duplicate imports and struct
* **models:** remove unused imports
* **models:** reformat timestamp module
* **models:** improve deserialization logic
* **repositories:** update repository event creation
* **repositories:** refactor async emit
* **repository:** reorganize imports and format code
* **repository:** clean up imports and streamline code
* **repository:** remove dead code and cleanup
* **styles:** rename and reorganize styles
* **tests:** move tests module
* **tests:** remove unnecessary comments and fix variable names Removed TODO comments and fixed variable names in test cases for better readability.
* **tracing:** consolidate tracing setup functions
* **traits:** Add bounds to RepositoryEvent trait
* **ui:** improve error handling in ScopeTerminal
* **ui:** remove redundant imports
* **ui:** remove unused imports
* **ui:** remove duplicate import
* **ui:** simplify terminal handling
* **ui:** update terminal event styling
* **ui:** remove commented code
* **ui:** refactor AppEvent struct and methods
* **ui:** simplify commit heading formatting
* **ui:** refactor SemVerImpactTerminal fmt
* **ui:** remove redundant code

### Features

* add Poll message emission on file change Added the emission of the Poll message in the GitSentinel actor when a file change is detected.
* add support for subscriber IDs in Broker Modified the Broker struct to include subscriber IDs. Updated methods to handle subscriber IDs, including load_subscriber_futures and load_subscriber_future_by_id. Added debug logs for better traceability.
* add Poll message handling to GitRepository Added handling for Poll message in GitRepository to check for unstaged files and log them. Also included Status and StatusOptions from git2 crate.
* add polling mechanism for repository changes Replaced Watch event handler with Observe event handler.
* add cargo configuration file
* add function to squash commits Implemented a function in ResponseCommit to squash multiple commits into a single string representation.
* add warning log for empty diff in repository_actor.rs Added a warning log when no repository diffs are found to provide better diagnostics.
* add broker integration and improve actor handling
* add repository configuration and main application logic
* add repository watcher actor and enhance AI actor with broker
* add actor system and configuration handling
* add broker actor and enhance repository actor with commit handling
* rename project from ginja to tangler and add new message types
* **actors:** add RepositoryActor and integrate with GinjaActor
* **actors:** add call_ai_endpoint function
* **actors:** improve RepositoryActor branch handling and add tests
* **actors:** add create_message_with_circuit_breaker function
* **actors:** enhance RepositoryActor and add NotifyChange handling
* **actors:** enhance actor structs with Akton framework
* **actors:** add GenerationStarted message handling
* **ai_actor:** add AI actor for commit message generation
* **config:** add id to RepositoryConfig
* **generators:** add circuit breaker to create thread
* **generators:** add run stream creation with circuit breaker
* **logging:** add tracing directive
* **logging:** add file appender for logging
* **logging:** Add logs path resolution
* **logging:** Add dynamic log path creation
* **logging:** add debug log for modified files
* **messages:** add FinalizedCommit struct
* **messages:** add reply_address field
* **messages:** add GenerationStarted struct
* **messages:** add CommitEvent struct
* **messages:** add CommitPending struct
* **messages:** add CommitAuthoring struct
* **models:** add PendingCommit struct
* **models:** add generate_id function
* **models:** implement Ord for TimeStamp
* **models:** add filename to commit struct
* **models:** add Filename struct
* **models:** add AsRef implementation for Footer
* **repo:** include unreadable files as untracked
* **server:** integrate Mistral AI client
* **ui:** add terminal status display
* **ui:** add AppEvent struct and impls
* **ui:** add TAB_WIDTH constant

### Performance Improvements

* increase channel capacity for Watch actor Increased the channel capacity from default to 200 in the Watch actor setup to handle more messages efficiently.
* increase channel capacity and debounce timeout Increased channel capacity to 200 and debounce timeout to 1500ms for better performance.
* increase channel capacity and debounce timeout Increased the channel capacity from 100 to 200 and debounce timeout from 1000ms to 2000ms for better performance.

### BREAKING CHANGE


`RepositoryWatcherActor` now requires a broker context for initialization.

The `RepositoryActor` and `TanglerActor` now require a broker context for initialization.

The project and binary names have been changed, which may affect existing scripts and documentation.

